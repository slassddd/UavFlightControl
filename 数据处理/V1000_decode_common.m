%% 数据解码
HD=180/pi;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
index_20=find(mod(Count,2)==0);
index_21=find(mod(Count,2)==1);

index_40=find(mod(Count,4)==0);
index_41=find(mod(Count,4)==1);
index_42=find(mod(Count,4)==2);
index_43=find(mod(Count,4)==3);

index_80=find(mod(Count,8)==0);
index_81=find(mod(Count,8)==1);
index_82=find(mod(Count,8)==2);
index_83=find(mod(Count,8)==3);
index_84=find(mod(Count,8)==4);
index_85=find(mod(Count,8)==5);
index_86=find(mod(Count,8)==6);
index_87=find(mod(Count,8)==7);

index_160=find(mod(Count,16)==0);
index_161=find(mod(Count,16)==1);
index_162=find(mod(Count,16)==2);
index_163=find(mod(Count,16)==3);
index_164=find(mod(Count,16)==4);
index_165=find(mod(Count,16)==5);
index_166=find(mod(Count,16)==6);
index_167=find(mod(Count,16)==7);
index_168=find(mod(Count,16)==8);
index_169=find(mod(Count,16)==9);
index_1610=find(mod(Count,16)==10);
index_1611=find(mod(Count,16)==11);
index_1612=find(mod(Count,16)==12);
index_1613=find(mod(Count,16)==13);
index_1614=find(mod(Count,16)==14);
index_1615=find(mod(Count,16)==15);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%SYSTEM
temp=reshape([data(:,251:254)'],1,[]);
save_time=double(typecast(uint8(temp),'uint32')')*1e-3;
temp=reshape([data(index_40,255:256)'],1,[]);
FC_VERSION=typecast(uint8(temp),'uint16');

time_imu=save_time;
time_baro=save_time(1:2:end);
time_mag=save_time(1:4:end);
time_radar = save_time(1:4:end);
time_ublox = save_time(1:4:end);
time_algo=save_time(1:2:end);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%IMU
temp=reshape([data(:,3:6)'],1,[]);
IMU_o.ax=typecast(uint8(temp),'single')';
temp=reshape([data(:,7:10)'],1,[]);
IMU_o.ay=-typecast(uint8(temp),'single')';
temp=reshape([data(:,11:14)'],1,[]);
IMU_o.az=-typecast(uint8(temp),'single')';
temp=reshape([data(:,15:18)'],1,[]);
IMU_o.gx=typecast(uint8(temp),'single')'*HD;
temp=reshape([data(:,19:22)'],1,[]);
IMU_o.gy=-typecast(uint8(temp),'single')'*HD;
temp=reshape([data(:,23:26)'],1,[]);
IMU_o.gz=-typecast(uint8(temp),'single')'*HD;
temp = reshape([data(1:1:end,27:28)'],1,[]);
ax=double(typecast(uint8(temp),'int16')')/32768*80.0000000000;
temp = reshape([data(1:1:end,29:30)'],1,[]);
ay=double(typecast(uint8(temp),'int16')')/32768*80.0000000000;
temp = reshape([data(1:1:end,31:32)'],1,[]);
az=double(typecast(uint8(temp),'int16')')/32768*80.0000000000;
temp = reshape([data(1:1:end,33:34)'],1,[]);
gx=double(typecast(uint8(temp),'int16')')/32768*17.5000000000;
temp = reshape([data(1:1:end,35:36)'],1,[]);
gy=double(typecast(uint8(temp),'int16')')/32768*17.5000000000;
temp = reshape([data(1:1:end,37:38)'],1,[]);
gz=double(typecast(uint8(temp),'int16')')/32768*17.5000000000;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%baro
% temp=reshape([data(1:2:end,41:42)'],1,[]);
% altitue=double(typecast(uint8(temp),'int16')')/32768*2000;
% temp=reshape([data(1:2:end,43:44)'],1,[]);
% temperature=double(typecast(uint8(temp),'int16')')/32768*100;
% temp=reshape([data(1:2:end,45:46)'],1,[]);
% pressure=double(typecast(uint8(temp),'int16')')/32768*1100;
% temp=reshape([data(1:2:end,47:48)'],1,[]);
% temperature_gs=double(typecast(uint8(temp),'int16')')/32768*1100;
% temp=reshape([data(1:2:end,49:50)'],1,[]);
% pressure_gs=double(typecast(uint8(temp),'int16')')/32768*1100;
temp=reshape([data(index_21,41:42)'],1,[]);
altitue=double(typecast(uint8(temp),'int16')')/32768*2000;
temp=reshape([data(index_21,43:44)'],1,[]);
temperature=double(typecast(uint8(temp),'int16')')/32768*100;
temp=reshape([data(index_21,45:46)'],1,[]);
pressure=double(typecast(uint8(temp),'int16')')/32768*1100;
temp=reshape([data(index_21,47:48)'],1,[]);
temperature_gs=double(typecast(uint8(temp),'int16')')/32768*1100;
temp=reshape([data(index_21,49:50)'],1,[]);
pressure_gs=double(typecast(uint8(temp),'int16')')/32768*1100;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Mag
% mag1
temp=reshape([data(index_40,109:110)'],1,[]);
mag1_x=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_40,111:112)'],1,[]);
mag1_y=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_40,113:114)'],1,[]);
mag1_z=double(typecast(uint8(temp),'int16')')/32768*2;
mag1_x_forCalib = mag1_x;
mag1_y_forCalib = mag1_y;
mag1_z_forCalib = mag1_z;

tmp = mag1_x;
mag1_x = -mag1_y;
mag1_y = -tmp;
mag1_z = -mag1_z;
% mag2
temp=reshape([data(index_40,115:116)'],1,[]);
mag2_x=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_40,117:118)'],1,[]);
mag2_y=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_40,119:120)'],1,[]);
mag2_z=double(typecast(uint8(temp),'int16')')/32768*2;
mag2_x_forCalib = mag2_x;
mag2_y_forCalib = mag2_y;
mag2_z_forCalib = mag2_z;

tmp = mag2_x;
mag2_x = -mag2_y;
mag2_y = -tmp;
mag2_z = -mag2_z;
% mag3
temp=reshape([data(index_40,121:122)'],1,[]);
mag3_x=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_40,123:124)'],1,[]);
mag3_y=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_40,125:126)'],1,[]);
mag3_z=double(typecast(uint8(temp),'int16')')/32768*2;
tmp = mag3_x;
mag3_x = -mag3_y;
mag3_y = -tmp;
mag3_z = -mag3_z;
%     % mag1 correct
temp=reshape([data(index_21,191:192)'],1,[]);
mag2calib_x_magFrame=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_21,193:194)'],1,[]);
mag2calib_y_magFrame=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_21,195:196)'],1,[]);
mag2calib_z_magFrame=double(typecast(uint8(temp),'int16')')/32768*2;
mag2calib_x_magFrame=mag2calib_x_magFrame(1:2:end);
mag2calib_y_magFrame=mag2calib_y_magFrame(1:2:end);
mag2calib_z_magFrame=mag2calib_z_magFrame(1:2:end);
mag2calib_x = -mag2calib_y_magFrame;
mag2calib_y = -mag2calib_x_magFrame;
mag2calib_z = -mag2calib_z_magFrame;

temp=reshape([data(index_21,167:168)'],1,[]);
mag1calib_x_magFrame=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_21,169:170)'],1,[]);
mag1calib_y_magFrame=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_21,171:172)'],1,[]);
mag1calib_z_magFrame=double(typecast(uint8(temp),'int16')')/32768*2;
mag1calib_x_magFrame=mag1calib_x_magFrame(1:2:end);
mag1calib_y_magFrame=mag1calib_y_magFrame(1:2:end);
mag1calib_z_magFrame=mag1calib_z_magFrame(1:2:end);
mag1calib_x = -mag1calib_y_magFrame;
mag1calib_y = -mag1calib_x_magFrame;
mag1calib_z = -mag1calib_z_magFrame;

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%radar
temp=reshape([data(index_43,117)'],1,[]);
radar_SNR=uint8(temp');
temp=reshape([data(index_43,118)'],1,[]);
radar_Flag=uint8(temp');
temp=reshape([data(index_43,119:120)'],1,[]);
radar_Range=double(typecast(uint8(temp),'int16')')/32768*2000;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%ublox
temp=reshape([data(index_41,109:112)'],1,[]);
ublox_iTOW=double(typecast(uint8(temp),'int32')');
temp=reshape([data(index_41,113:116)'],1,[]);
ublox_velE=double(typecast(uint8(temp),'int32')')*1e-3;
temp=reshape([data(index_41,117:120)'],1,[]);
ublox_velN=double(typecast(uint8(temp),'int32')')*1e-3;
temp=reshape([data(index_41,121:124)'],1,[]);
ublox_velD=double(typecast(uint8(temp),'int32')')*1e-3;
temp=reshape([data(index_41,125:128)'],1,[]);
ublox_lon=double(typecast(uint8(temp),'int32')')*1e-7;
temp=reshape([data(index_41,129:132)'],1,[]);
ublox_lat=double(typecast(uint8(temp),'int32')')*1e-7;
temp=reshape([data(index_41,133:136)'],1,[]);
ublox_height=double(typecast(uint8(temp),'int32')')*1e-3;
temp=reshape([data(index_40,127:128)'],1,[]);
ublox_pDOP=double(typecast(uint8(temp),'uint16')')*1e-2;
temp=reshape([data(index_40,129)'],1,[]);
ublox_numSV=typecast(uint8(temp),'uint8')';
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%algo
temp=reshape([data(index_20,41)'],1,[]);
Switch_LockStatus=typecast(uint8(temp),'uint8')';
temp=reshape([data(index_20,42)'],1,[]);
Lock_Status=typecast(uint8(temp),'uint8')';
temp=reshape([data(index_20,43)'],1,[]);
algo_mode=typecast(uint8(temp),'uint8')';
temp=reshape([data(index_20,44)'],1,[]);
PLANE_COPTER_MODE=typecast(uint8(temp),'uint8')';
temp=reshape([data(index_20,47:48)'],1,[]);
src_pitch=double(typecast(uint8(temp),'uint16')');
temp=reshape([data(index_20,49:50)'],1,[]);
src_roll=double(typecast(uint8(temp),'uint16')');
temp=reshape([data(index_20,51:52)'],1,[]);
src_throttle=double(typecast(uint8(temp),'uint16')');
temp=reshape([data(index_20,53:54)'],1,[]);
src_yaw=double(typecast(uint8(temp),'uint16')');
temp=reshape([data(index_20,55:56)'],1,[]);
algo_remote_ct_st_pitch=double(typecast(uint8(temp),'int16')')/32768*80;
temp=reshape([data(index_20,57:58)'],1,[]);
algo_remote_ct_st_roll=double(typecast(uint8(temp),'int16')')/32768*80;
temp=reshape([data(index_20,59:60)'],1,[]);
algo_remote_ct_st_throttle=double(typecast(uint8(temp),'int16')')/32768*400;
temp=reshape([data(index_20,61:62)'],1,[]);
algo_remote_ct_st_yaw=double(typecast(uint8(temp),'int16')')/32768*200;
temp=reshape([data(index_20,63:64)'],1,[]);
algo_roll=double(typecast(uint8(temp),'int16')')/32768*4*HD;
temp=reshape([data(index_20,65:66)'],1,[]);
algo_pitch=double(typecast(uint8(temp),'int16')')/32768*4*HD;
temp=reshape([data(index_20,67:68)'],1,[]);
algo_yaw=double(typecast(uint8(temp),'int16')')/32768*4*HD;
temp=reshape([data(index_20,69:70)'],1,[]);
algo_curr_vel_0=double(typecast(uint8(temp),'int16')')/32768*30;
temp=reshape([data(index_20,71:72)'],1,[]);
algo_curr_vel_1=double(typecast(uint8(temp),'int16')')/32768*30;
temp=reshape([data(index_20,73:74)'],1,[]);
algo_curr_vel_2=double(typecast(uint8(temp),'int16')')/32768*30;
temp=reshape([data(index_20,75:76)'],1,[]);
algo_curr_pos_0=double(typecast(uint8(temp),'int16')')/32768*10000;
temp=reshape([data(index_20,77:78)'],1,[]);
algo_curr_pos_1=double(typecast(uint8(temp),'int16')')/32768*10000;
temp=reshape([data(index_20,79:80)'],1,[]);
algo_curr_pos_2=double(typecast(uint8(temp),'int16')')/32768*10000;
temp=reshape([data(index_20,81:82)'],1,[]);
algo_curr_alt=double(typecast(uint8(temp),'int16')')/32768*10000;
temp=reshape([data(index_20,83:84)'],1,[]);
algo_rate_target_ang_vel_0=double(typecast(uint8(temp),'int16')')/32768*500*HD;
temp=reshape([data(index_20,85:86)'],1,[]);
algo_rate_target_ang_vel_1=double(typecast(uint8(temp),'int16')')/32768*500*HD;
temp=reshape([data(index_20,87:88)'],1,[]);
algo_rate_target_ang_vel_2=double(typecast(uint8(temp),'int16')')/32768*500*HD;
temp=reshape([data(index_20,89:90)'],1,[]);
algo_roll_in=double(typecast(uint8(temp),'int16')')/32768*1.1;
temp=reshape([data(index_20,91:92)'],1,[]);
algo_pitch_in=double(typecast(uint8(temp),'int16')')/32768*1.1;
temp=reshape([data(index_20,93:94)'],1,[]);
algo_yaw_in=double(typecast(uint8(temp),'int16')')/32768*1.1;
temp=reshape([data(index_20,95:96)'],1,[]);
algo_throttle_in=double(typecast(uint8(temp),'int16')')/32768*1.1;
temp=reshape([data(index_20,97:98)'],1,[]);
algo_attitude_target_euler_rate_0=double(typecast(uint8(temp),'int16')')/32768*6.3;
temp=reshape([data(index_20,99:100)'],1,[]);
algo_attitude_target_euler_rate_1=double(typecast(uint8(temp),'int16')')/32768*6.3;
temp=reshape([data(index_20,101:102)'],1,[]);
algo_attitude_target_euler_rate_2=double(typecast(uint8(temp),'int16')')/32768*6.3;
temp=reshape([data(index_20,103:104)'],1,[]);
algo_attitude_target_euler_angle_0=double(typecast(uint8(temp),'int16')')/32768*3.15;
temp=reshape([data(index_20,105:106)'],1,[]);
algo_attitude_target_euler_angle_1=double(typecast(uint8(temp),'int16')')/32768*3.15;
temp=reshape([data(index_20,107:108)'],1,[]);
algo_attitude_target_euler_angle_2=double(typecast(uint8(temp),'int16')')/32768*3.15;
temp=reshape([data(index_21,51:52)'],1,[]);
algo_pwm_out_0=double(typecast(uint8(temp),'int16')')/32768*2000;
temp=reshape([data(index_21,53:54)'],1,[]);
algo_pwm_out_1=double(typecast(uint8(temp),'int16')')/32768*2000;
temp=reshape([data(index_21,55:56)'],1,[]);
algo_pwm_out_2=double(typecast(uint8(temp),'int16')')/32768*2000;
temp=reshape([data(index_21,57:58)'],1,[]);
algo_pwm_out_3=double(typecast(uint8(temp),'int16')')/32768*2000;
temp=reshape([data(index_21,59:60)'],1,[]);
algo_attitude_error_vector_0=double(typecast(uint8(temp),'int16')')/32768*3.15;
temp=reshape([data(index_21,61:62)'],1,[]);
algo_attitude_error_vector_1=double(typecast(uint8(temp),'int16')')/32768*3.15;
temp=reshape([data(index_21,63:64)'],1,[]);
algo_attitude_error_vector_2=double(typecast(uint8(temp),'int16')')/32768*3.15;
temp=reshape([data(index_21,65:66)'],1,[]);
algo_speed_out_0=double(typecast(uint8(temp),'uint16')');
temp=reshape([data(index_21,67:68)'],1,[]);
algo_speed_out_1=double(typecast(uint8(temp),'uint16')');
temp=reshape([data(index_21,69:70)'],1,[]);
algo_speed_out_2=double(typecast(uint8(temp),'uint16')');
temp=reshape([data(index_21,71:72)'],1,[]);
algo_speed_out_3=double(typecast(uint8(temp),'uint16')');
temp=reshape([data(index_21,73:74)'],1,[]);
algo_pos_target_0=double(typecast(uint8(temp),'int16')')/32768*10000;
temp=reshape([data(index_21,75:76)'],1,[]);
algo_pos_target_1=double(typecast(uint8(temp),'int16')')/32768*10000;
temp=reshape([data(index_21,77:78)'],1,[]);
algo_pos_target_2=double(typecast(uint8(temp),'int16')')/32768*10000;
temp=reshape([data(index_21,79:80)'],1,[]);
algo_vel_target_0=double(typecast(uint8(temp),'int16')')/32768*1000;
temp=reshape([data(index_21,81:82)'],1,[]);
algo_vel_target_1=double(typecast(uint8(temp),'int16')')/32768*1000;
temp=reshape([data(index_21,83:84)'],1,[]);
algo_vel_target_2=double(typecast(uint8(temp),'int16')')/32768*1000;
temp=reshape([data(index_21,85:86)'],1,[]);
algo_accel_target_0=double(typecast(uint8(temp),'int16')')/32768*8000;
temp=reshape([data(index_21,87:88)'],1,[]);
algo_accel_target_1=double(typecast(uint8(temp),'int16')')/32768*8000;
temp=reshape([data(index_21,89:90)'],1,[]);
algo_accel_target_2=double(typecast(uint8(temp),'int16')')/32768*8000;
temp=reshape([data(index_21,91:92)'],1,[]);
algo_z_accel_meas=double(typecast(uint8(temp),'int16')')/32768*8000;
temp=reshape([data(index_21,93:94)'],1,[]);
algo_climb_rate_cms=double(typecast(uint8(temp),'int16')')/32768*500;
temp=reshape([data(index_21,95:96)'],1,[]);
algo_throttle_filter=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_21,97:98)'],1,[]);
algo_vel_desired_2=double(typecast(uint8(temp),'int16')')/32768*1000;
temp=reshape([data(index_21,99)'],1,[]);
temp1=typecast(uint8(temp),'uint8');
algo_throttle_lower=bitand(temp1,1)/1;
algo_throttle_upper=bitand(temp1,2^1)/2^1;
algo_limit_pos_up=bitand(temp1,2^2)/2^2;
temp=reshape([data(index_21,101:102)'],1,[]);
algo_nav_pitch_cd=double(typecast(uint8(temp),'int16')')/32768*3600;
temp=reshape([data(index_21,103:104)'],1,[]);
algo_latAccDem=double(typecast(uint8(temp),'int16')')/32768*20;
temp=reshape([data(index_21,105:106)'],1,[]);
algo_yaw_out=double(typecast(uint8(temp),'int16')')/32768*4500;
temp=reshape([data(index_21,107:108)'],1,[]);
algo_throttle_dem=double(typecast(uint8(temp),'int16')')/32768*1;
temp=reshape([data(index_20,137:138)'],1,[]);
algo_k_rudder=double(typecast(uint8(temp),'int16')')/32768*4500;
temp=reshape([data(index_20,139:140)'],1,[]);
algo_k_elevator=double(typecast(uint8(temp),'int16')')/32768*4500;
temp=reshape([data(index_20,141:142)'],1,[]);
algo_k_throttle=double(typecast(uint8(temp),'int16')')/32768*1;
temp=reshape([data(index_20,143:144)'],1,[]);
algo_k_aileron=double(typecast(uint8(temp),'int16')')/32768*4500;
temp=reshape([data(index_20,165:166)'],1,[]);
dAB_00=double(typecast(uint8(temp),'int16')')/32768*2*100;
temp=reshape([data(index_20,167:168)'],1,[]);
dAB_01=double(typecast(uint8(temp),'int16')')/32768*2*-100;
temp=reshape([data(index_20,169:170)'],1,[]);
dAB_02=double(typecast(uint8(temp),'int16')')/32768*2*100;
temp=reshape([data(index_20,171:172)'],1,[]);
dWB_00=double(typecast(uint8(temp),'int16')')/32768*0.3*5000;
temp=reshape([data(index_20,173:174)'],1,[]);
dWB_01=double(typecast(uint8(temp),'int16')')/32768*0.3*-5000;
temp=reshape([data(index_20,175:176)'],1,[]);
dWB_02=double(typecast(uint8(temp),'int16')')/32768*0.3*5000;
temp=reshape([data(index_21,153:154)'],1,[]);
dAB_10=double(typecast(uint8(temp),'int16')')/32768*2*100;
temp=reshape([data(index_21,155:156)'],1,[]);
dAB_11=double(typecast(uint8(temp),'int16')')/32768*2*-100;
temp=reshape([data(index_21,157:158)'],1,[]);
dAB_12=double(typecast(uint8(temp),'int16')')/32768*2*100;
temp=reshape([data(index_21,159:160)'],1,[]);
dWB_10=double(typecast(uint8(temp),'int16')')/32768*0.3*5000;
temp=reshape([data(index_21,161:162)'],1,[]);
dWB_11=double(typecast(uint8(temp),'int16')')/32768*0.3*-5000;
temp=reshape([data(index_21,163:164)'],1,[]);
dWB_12=double(typecast(uint8(temp),'int16')')/32768*0.3*5000;
temp=reshape([data(index_21,165:166)'],1,[]);
dAB_20=double(typecast(uint8(temp),'int16')')/32768*2*100;
temp=reshape([data(index_21,167:168)'],1,[]);
dAB_21=double(typecast(uint8(temp),'int16')')/32768*2*-100;
temp=reshape([data(index_21,169:170)'],1,[]);
dAB_22=double(typecast(uint8(temp),'int16')')/32768*2*100;
temp=reshape([data(index_21,171:172)'],1,[]);
dWB_20=double(typecast(uint8(temp),'int16')')/32768*0.3*5000;
temp=reshape([data(index_21,173:174)'],1,[]);
dWB_21=double(typecast(uint8(temp),'int16')')/32768*0.3*-5000;
temp=reshape([data(index_21,175:176)'],1,[]);
dWB_22=double(typecast(uint8(temp),'int16')')/32768*0.3*5000;
temp=reshape([data(index_20,159:160)'],1,[]);
gx_f=double(typecast(uint8(temp),'int16')')/32768*17.5*HD;
temp=reshape([data(index_20,161:162)'],1,[]);
gy_f=double(typecast(uint8(temp),'int16')')/32768*-17.5*HD;
temp=reshape([data(index_20,163:164)'],1,[]);
gz_f=double(typecast(uint8(temp),'int16')')/32768*-17.5*HD;
temp=reshape([data(index_21,145:146)'],1,[]);
ax_f=double(typecast(uint8(temp),'int16')')/32768*80;
temp=reshape([data(index_21,147:148)'],1,[]);
ay_f=double(typecast(uint8(temp),'int16')')/32768*-80;
temp=reshape([data(index_21,149:150)'],1,[]);
az_f=double(typecast(uint8(temp),'int16')')/32768*-80;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%airspeed
temp=reshape([data(index_20,177:178)'],1,[]);
diff_press_filtered_pa=double(typecast(uint8(temp),'int16')')/32768*1000;
temp=reshape([data(index_20,179:180)'],1,[]);
indicated_airspeed=double(typecast(uint8(temp),'int16')')/32768*100;
temp=reshape([data(index_20,181:182)'],1,[]);
true_airspeed=double(typecast(uint8(temp),'int16')')/32768*100;
temp=reshape([data(index_20,183:184)'],1,[]);
EAS_Algo=double(typecast(uint8(temp),'int16')')/32768*50;
temp=reshape([data(index_20,185:186)'],1,[]);
EAS2TAS_Algo=double(typecast(uint8(temp),'int16')')/32768*2;
temp=reshape([data(index_20,189:190)'],1,[]);
airspeed_used=double(typecast(uint8(temp),'int16')')/32768*100;
temp=reshape([data(index_20,191:192)'],1,[]);
diff_press_pa_raw=double(typecast(uint8(temp),'int16')')/32768*1000;
temp=reshape([data(index_20,193:194)'],1,[]);
diff_offset=double(typecast(uint8(temp),'int16')')/32768*300;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
temp=reshape([data(index_40,209:212)'],1,[]);
algo_NAV_lon=double(typecast(uint8(temp),'int32')')*1e-7;
temp=reshape([data(index_40,213:216)'],1,[]);
algo_NAV_lat=double(typecast(uint8(temp),'int32')')*1e-7;
temp=reshape([data(index_41,209:210)'],1,[]);
algo_NAV_yaw=double(typecast(uint8(temp),'int16')')/32768*200;
temp=reshape([data(index_41,211:212)'],1,[]);
algo_NAV_pitch=double(typecast(uint8(temp),'int16')')/32768*200;
temp=reshape([data(index_41,213:214)'],1,[]);
algo_NAV_roll=double(typecast(uint8(temp),'int16')')/32768*200;
temp=reshape([data(index_41,219:220)'],1,[]);
algo_NAV_alt=double(typecast(uint8(temp),'int16')')/32768*2000;
temp=reshape([data(index_42,209:210)'],1,[]);
algo_NAV_Vn=double(typecast(uint8(temp),'int16')')/32768*100;
temp=reshape([data(index_42,211:212)'],1,[]);
algo_NAV_Ve=double(typecast(uint8(temp),'int16')')/32768*100;
temp=reshape([data(index_42,213:214)'],1,[]);
algo_NAV_Vd=double(typecast(uint8(temp),'int16')')/32768*100;