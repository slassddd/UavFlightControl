function out = truncateSensorTimeRange(sensors,tspan)
sensors.Algo_sl.time = sensors.Algo.time_algo(1:2:end);
%
sensors.IMU.ax(sensors.IMU.time_imu<tspan(1),:) = [];
sensors.IMU.ay(sensors.IMU.time_imu<tspan(1),:) = [];
sensors.IMU.az(sensors.IMU.time_imu<tspan(1),:) = [];
sensors.IMU.gx(sensors.IMU.time_imu<tspan(1),:) = [];
sensors.IMU.gy(sensors.IMU.time_imu<tspan(1),:) = [];
sensors.IMU.gz(sensors.IMU.time_imu<tspan(1),:) = [];
sensors.Mag.mag1_x(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag1_y(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag1_z(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag2_x(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag2_y(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag2_z(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag3_x(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag3_y(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag3_z(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag1calib_x_magFrame(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag1calib_y_magFrame(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag1calib_z_magFrame(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag2calib_x_magFrame(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag2calib_y_magFrame(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.Mag.mag2calib_z_magFrame(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.GPS.ublox_lat(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.ublox_lon(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.ublox_height(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.ublox_velN(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.ublox_velE(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.ublox_velD(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.posmNED(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.ublox_pDOP(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.ublox_iTOW(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.GPS.ublox_numSV(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.Baro.altitue(sensors.Baro.time_baro<tspan(1),:) = [];
sensors.Baro.pressure(sensors.Baro.time_baro<tspan(1),:) = [];
sensors.Baro.pressure_gs(sensors.Baro.time_baro<tspan(1),:) = [];
sensors.Baro.temperature(sensors.Baro.time_baro<tspan(1),:) = [];
sensors.Baro.temperature_gs(sensors.Baro.time_baro<tspan(1),:) = [];
sensors.Radar.radar_Range(sensors.Radar.time_radar<tspan(1),:) = [];
sensors.Radar.radar_Flag(sensors.Radar.time_radar<tspan(1),:) = [];
sensors.Radar.radar_SNR(sensors.Radar.time_radar<tspan(1),:) = [];
sensors.Algo.algo_roll(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_pitch(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_yaw(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_curr_vel_0(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_curr_vel_1(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_curr_vel_2(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_curr_pos_0(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_curr_pos_1(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_curr_pos_2(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.algo_curr_alt(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.dAB_00(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.dAB_11(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.dAB_22(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.dWB_00(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.dWB_11(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo.dWB_22(sensors.Algo.time_algo<tspan(1),:) = [];


sensors.Algo_sl.algo_NAV_alt(sensors.Algo_sl.time<tspan(1),:) = [];
sensors.Algo_sl.algo_NAV_lat(sensors.Algo_sl.time<tspan(1),:) = [];
sensors.Algo_sl.algo_NAV_lon(sensors.Algo_sl.time<tspan(1),:) = [];
sensors.Algo_sl.algo_NAV_pitch(sensors.Algo_sl.time<tspan(1),:) = [];
sensors.Algo_sl.algo_NAV_roll(sensors.Algo_sl.time<tspan(1),:) = [];
sensors.Algo_sl.algo_NAV_Vd(sensors.Algo_sl.time<tspan(1),:) = [];
sensors.Algo_sl.algo_NAV_Ve(sensors.Algo_sl.time<tspan(1),:) = [];
sensors.Algo_sl.algo_NAV_Vn(sensors.Algo_sl.time<tspan(1),:) = [];
sensors.Algo_sl.algo_NAV_yaw(sensors.Algo_sl.time<tspan(1),:) = [];

sensors.IMU.time_imu(sensors.IMU.time_imu<tspan(1),:) = [];
sensors.Mag.time_mag(sensors.Mag.time_mag<tspan(1),:) = [];
sensors.GPS.time_ublox(sensors.GPS.time_ublox<tspan(1),:) = [];
sensors.Baro.time_baro(sensors.Baro.time_baro<tspan(1),:) = [];
sensors.Radar.time_radar(sensors.Radar.time_radar<tspan(1),:) = [];
sensors.Algo.time_algo(sensors.Algo.time_algo<tspan(1),:) = [];
sensors.Algo_sl.time(sensors.Algo_sl.time<tspan(1),:) = [];

sensors.IMU.ax(sensors.IMU.time_imu>tspan(2),:) = [];
sensors.IMU.ay(sensors.IMU.time_imu>tspan(2),:) = [];
sensors.IMU.az(sensors.IMU.time_imu>tspan(2),:) = [];
sensors.IMU.gx(sensors.IMU.time_imu>tspan(2),:) = [];
sensors.IMU.gy(sensors.IMU.time_imu>tspan(2),:) = [];
sensors.IMU.gz(sensors.IMU.time_imu>tspan(2),:) = [];
sensors.Mag.mag1_x(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag1_y(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag1_z(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag2_x(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag2_y(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag2_z(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag3_x(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag3_y(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag3_z(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag1calib_x_magFrame(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag1calib_y_magFrame(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag1calib_z_magFrame(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag2calib_x_magFrame(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag2calib_y_magFrame(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.Mag.mag2calib_z_magFrame(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.GPS.ublox_lat(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.ublox_lon(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.ublox_height(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.ublox_velN(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.ublox_velE(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.ublox_velD(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.posmNED(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.ublox_pDOP(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.ublox_iTOW(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.GPS.ublox_numSV(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.Baro.altitue(sensors.Baro.time_baro>tspan(2),:) = [];
sensors.Baro.pressure(sensors.Baro.time_baro>tspan(2),:) = [];
sensors.Baro.pressure_gs(sensors.Baro.time_baro>tspan(2),:) = [];
sensors.Baro.temperature(sensors.Baro.time_baro>tspan(2),:) = [];
sensors.Baro.temperature_gs(sensors.Baro.time_baro>tspan(2),:) = [];
sensors.Radar.radar_Range(sensors.Radar.time_radar>tspan(2),:) = [];
sensors.Radar.radar_Flag(sensors.Radar.time_radar>tspan(2),:) = [];
sensors.Radar.radar_SNR(sensors.Radar.time_radar>tspan(2),:) = [];
sensors.Algo.algo_roll(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_pitch(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_yaw(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_curr_vel_0(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_curr_vel_1(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_curr_vel_2(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_curr_pos_0(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_curr_pos_1(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_curr_pos_2(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.algo_curr_alt(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.dAB_00(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.dAB_11(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.dAB_22(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.dWB_00(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.dWB_11(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo.dWB_22(sensors.Algo.time_algo>tspan(2),:) = [];

sensors.Algo_sl.algo_NAV_alt(sensors.Algo_sl.time>tspan(2),:) = [];
sensors.Algo_sl.algo_NAV_lat(sensors.Algo_sl.time>tspan(2),:) = [];
sensors.Algo_sl.algo_NAV_lon(sensors.Algo_sl.time>tspan(2),:) = [];
sensors.Algo_sl.algo_NAV_pitch(sensors.Algo_sl.time>tspan(2),:) = [];
sensors.Algo_sl.algo_NAV_roll(sensors.Algo_sl.time>tspan(2),:) = [];
sensors.Algo_sl.algo_NAV_Vd(sensors.Algo_sl.time>tspan(2),:) = [];
sensors.Algo_sl.algo_NAV_Ve(sensors.Algo_sl.time>tspan(2),:) = [];
sensors.Algo_sl.algo_NAV_Vn(sensors.Algo_sl.time>tspan(2),:) = [];
sensors.Algo_sl.algo_NAV_yaw(sensors.Algo_sl.time>tspan(2),:) = [];

sensors.IMU.time_imu(sensors.IMU.time_imu>tspan(2),:) = [];
sensors.Mag.time_mag(sensors.Mag.time_mag>tspan(2),:) = [];
sensors.GPS.time_ublox(sensors.GPS.time_ublox>tspan(2),:) = [];
sensors.Baro.time_baro(sensors.Baro.time_baro>tspan(2),:) = [];
sensors.Radar.time_radar(sensors.Radar.time_radar>tspan(2),:) = [];
sensors.Algo.time_algo(sensors.Algo.time_algo>tspan(2),:) = [];
sensors.Algo_sl.time(sensors.Algo_sl.time>tspan(2),:) = [];

out = sensors;

% mag_time = sensors.Mag.time_mag;
% imu_time = sensors.IMU.time_imu;
% gps_time = sensors.GPS.time_ublox;
% baro_time = sensors.Baro.time_baro;
% radar_time = sensors.Radar.time_radar;
% 
% subFieldNames1 = fieldnames(sensors);
% for i_sub1 = 1:length(subFieldNames1)
%     thisSubFiledNames1 = subFieldNames1{i_sub1};
%     subFieldNames2 = fieldnames(sensors.(thisSubFiledNames1)); 
%     for i_sub2 = 1:length(subFieldNames2)
%         thisSubFiledNames2 = subFieldNames2{i_sub2};
%         temp = sensors.(thisSubFiledNames1).(thisSubFiledNames2);
%     end
% end

